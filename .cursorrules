{
  "context": {
    "projectDescription": "Veliano Jewelry E-commerce application specializing in custom grillz, built with Next.js 15, TypeScript, and Supabase",
    "priorityFiles": [
      ".cursor/project-plan.md",
      ".cursor/PHASE4.md",
      ".cursor/PHASE4_ONE_SHOT.md",
      ".cursor/rules/database-schema-reference.mdc"
    ],
    "currentPhase": "Phase 4: Advanced Features",
    "remainingFeatures": [
      "Complete customer reviews system",
      "Implement wishlist functionality",
      "Finish email marketing integration",
      "Build product recommendation engine",
      "Enhance search with autocomplete"
    ],
    "completedFeatures": [
      "Custom email verification with Supabase Auth hooks",
      "All Phase 3 requirements"
    ]
  },
  "phaseConfig": {
    "reviews": {
      "priority": 1,
      "dependencies": ["products", "auth"],
      "components": ["ReviewForm", "ReviewsList", "RatingStars", "ReviewCard"],
      "schema": "reviews",
      "apis": ["GET /api/products/[id]/reviews", "POST /api/reviews"]
    },
    "wishlist": {
      "priority": 2,
      "dependencies": ["products", "auth"],
      "components": ["WishlistButton", "WishlistPage", "WishlistItem"],
      "schema": ["wishlists", "wishlist_items"],
      "apis": ["GET /api/wishlist", "POST /api/wishlist"]
    },
    "email": {
      "priority": 3,
      "dependencies": ["auth"],
      "components": ["EmailSubscriptionForm", "EmailPreferences", "AdminCampaignEditor"],
      "schema": ["email_subscribers", "email_campaigns", "email_logs"],
      "apis": ["POST /api/subscribe", "PUT /api/preferences/email"]
    },
    "recommendations": {
      "priority": 4,
      "dependencies": ["products"],
      "components": ["RelatedProducts", "FrequentlyBoughtTogether", "ProductCarousel"],
      "schema": "product_relations",
      "apis": ["GET /api/products/[id]/recommended"]
    },
    "search": {
      "priority": 5,
      "dependencies": ["products"],
      "components": ["SearchBar", "SearchResults", "SearchFilters", "Autocomplete"],
      "schema": ["search_logs", "product_search_data"],
      "apis": ["GET /api/search"]
    }
  },
  "codeStandards": {
    "fileStructure": {
      "components": "app/components/[feature]/[ComponentName].tsx",
      "serverActions": "app/actions/[feature].ts",
      "repositories": "app/repositories/[name]Repository.ts",
      "types": "types/[feature].ts"
    },
    "typeChecks": {
      "enforceTypedProps": true,
      "enforceTypedReturnValues": true,
      "useZodForValidation": true
    },
    "errorHandling": {
      "useCustomErrorTypes": true,
      "wrapDatabaseErrors": true,
      "provideUserFriendlyMessages": true
    },
    "analytics": {
      "trackPageViews": true,
      "trackUserActions": true,
      "anonymizeData": true
    }
  },
  "oneShot": {
    "enabled": true,
    "logFile": "phase4-progress.log",
    "outputDir": "phase4-output",
    "inputHandler": "scripts/phase4-generator.js"
  }
} 